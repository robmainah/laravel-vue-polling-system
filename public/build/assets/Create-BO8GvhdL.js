import{d as k,l as p,q as $,g as o,a as _,u as C,w as m,F as c,p as f,o as l,Z as V,b as e,t as n,f as B,s as v,O as F,j as M,G as N}from"./app-CTAVDbhm.js";import{_ as S}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-B87tBASB.js";import"./ApplicationLogo-5tAiKRnE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},z={class:"w-full p-4"},D={class:"dark:bg-gray-800 shadow overflow-hidden sm:rounded-lg py-6 px-4"},O={class:"grid"},Q={for:"content",class:"mb-2 text-white/80 capitalize"},U=["id","onUpdate:modelValue","value"],q=["id"],E=e("div",{class:"flex mt-6"},[e("button",{type:"submit",class:"px-3 py-1 rounded bg-blue-500 opacity-80 hover:opacity-100 text-white disabled:cursor-not-allowed disabled:bg-success disabled:opacity-50"}," Create ")],-1),A=k({__name:"Create",props:{poll:{}},setup(h){const u=h,d=p([]),i=p({}),b=()=>{const s=d.value.reduce((r,t)=>(r[`question_${t.id}`]="",r),{});i.value=s},g=async()=>{const{data:s}=await f.get(`/polls/${u.poll.id}/votes/create`);d.value=s,b()},w=async()=>{(await f.post(`/polls/${u.poll.id}/votes`,i.value)).status===201&&F.get("/polls")};return $(async()=>{await g()}),(s,r)=>(l(),o(c,null,[_(C(V),{title:"Create New Question"}),_(S,null,{header:m(()=>[e("h2",j,n(s.poll.title)+"'s vote",1)]),default:m(()=>[e("div",z,[e("div",D,[e("form",{onSubmit:B(w,["prevent"])},[e("div",O,[(l(!0),o(c,null,v(d.value,(t,x)=>(l(),o("div",{key:t.id,class:"flex flex-col mb-8"},[e("label",Q,n(x+1)+") "+n(t.content),1),(l(!0),o(c,null,v(t.choices,a=>(l(),o("div",{key:a.id,class:"flex flex-row gap-2 ms-6"},[M(e("input",{id:"content_"+a.id,type:"radio","onUpdate:modelValue":y=>i.value[`question_${t.id}`]=y,value:a.id,class:"bg-white/80 cursor-pointer"},null,8,U),[[N,i.value[`question_${t.id}`]]]),e("label",{id:"content_"+a.id,class:"mb-2 text-white/80 -mt-1 capitalize"},n(a.content),9,q)]))),128))]))),128)),E])],32)])])]),_:1})],64))}});export{A as default};
